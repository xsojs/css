(function(u,r){typeof exports=="object"&&typeof module<"u"?module.exports=r():typeof define=="function"&&define.amd?define(r):(u=typeof globalThis<"u"?globalThis:u||self,u.css=r())})(this,function(){"use strict";const u={vanilla:!0,react:!1};function r(e){if(e){for(const s of Object.keys(u))u[s]=!1;u[e]=!0;return}for(const s of Object.keys(u))if(u[s])return s;return null}r.vanilla=()=>r()=="vanilla",r.react=()=>r()=="react";function g(e,s){if(typeof s!="object"||s==null||Array.isArray(s))throw new Error(`${e} is ${typeof s} and not a valid object.`)}function S(e,s,c){const n=JSON.stringify(c),a=s.find(t=>t.def==n);if(a)return{name:a.name,reused:!0};for(;;){const t="xso_"+e+"_"+(Math.random()+1).toString(36).substring(2);if(s.find(i=>i.name==t))continue;const m={name:t,def:n};return s.push(m),{name:m.name,reused:!1}}}const T=/[A-Z]/g;function $(e){return e.replace(T,s=>"-"+s.toLowerCase())}function b(e){return e=="&"||e==":"||e=="."||e==" "||e==">"||e=="+"||e=="~"}function h(e,s){let c=`${e} {
`;const n={selectors:[],medias:[]},a={selectors:[],medias:[]};for(const t of Object.keys(s)){const m=$(t),i=t.length>0?t.substring(0,1):"";if(b(i)){g(t,s[t]);const o=e+(i=="&"?t.substring(1):(i==":"||i=="."||i==" "?"":" ")+t);n.selectors.push({selector:o,css:h(o,s[t])})}else if(i=="@")n.medias.push({media:t,css:h(e,s[t])});else if(typeof s[t]=="object"&&s[t]!==null)for(const o of Object.keys(s[t])){const d=`  ${m}: ${s[t][o]};
`;if(o=="default"||o=="def"||o=="_"||o==""){c+=d;continue}const f=o.length>0?o.substring(0,1):"";if(b(f)){const y=a.selectors.find(p=>p.selector==o);if(y)y.css+=d;else{const p=e+(f=="&"?o.substring(1):(f==":"||f=="."||f==" "?"":" ")+o);a.selectors.push({selector:p,css:d})}}else if(f=="@"){const y=a.medias.find(p=>p.media==o);y?y.css+=d:a.medias.push({media:o,css:d})}}else c+=`  ${m}: ${s[t]};
`}c+="}";for(const t of a.selectors)c+=`
${e}${t.selector} {
${t.css}}`;for(const t of a.medias)c+=`
${t.media} {
${e} {
${t.css}}
}`;for(const t of n.selectors)c+=`
${t.css}`;for(const t of n.medias)c+=`
${t.media} {
${t.css}}`;return c}const C=[];function E(e){return S("c",C,e)}function N(e){g(`Class ${e}`,e);const s=E(e);if(s.reused)return s.name;const c=h("."+s.name,e),n=document.createElement("style");return n.type="text/css",n.id=s.name,n.innerHTML=c,document.getElementsByTagName("head")[0].appendChild(n),s.name}function j(e,s){g(`Definition ${e} > ${s}`,s);const c=h(e,s),n=document.createElement("style");n.type="text/css",n.innerHTML=c,document.getElementsByTagName("head")[0].appendChild(n)}function O(e){const s=document.createElement("style");s.type="text/css",s.innerHTML=`@import ${e};`,document.getElementsByTagName("head")[0].appendChild(s)}function v(e){g(`Font-face ${e}`,e);let s=`@font-face {
`;for(const n of Object.keys(e)){const a=$(n);s+=`  ${a}: ${e[n]};
`}s+="}";const c=document.createElement("style");c.type="text/css",c.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(c)}function l(){if(arguments.length==0)return null;const e=[];for(const s of arguments)e.push(N(s));if(r.vanilla())return e.join(" ");if(r.react())return{className:e.join(" ")}}return l.mode=r,l.def=(e,s)=>{j(e,s)},l.import=e=>{O(e)},l.fontFace=e=>{v(e)},l.keyframes=e=>createKeyframes(e),l});
