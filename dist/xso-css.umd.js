(function(u,a){typeof exports=="object"&&typeof module<"u"?module.exports=a():typeof define=="function"&&define.amd?define(a):(u=typeof globalThis<"u"?globalThis:u||self,u.css=a())})(this,function(){"use strict";const u={vanilla:!0,react:!1};function a(e){if(e){for(const n of Object.keys(u))u[n]=!1;u[e]=!0;return}for(const n of Object.keys(u))if(u[n])return n;return null}a.vanilla=()=>a()=="vanilla",a.react=()=>a()=="react";function r(e,n,s,c){if(r.null==n)throw new Error(`${s} is null and not a valid ${e}.`);if(r.invalid==n)throw new Error(`${s} is ${typeof c} and not a valid ${e}.`)}r.array="array",r.function="function",r.object="object",r.string="string",r.null=0,r.invalid=1;function $(e,n){n==null&&r(r.object,r.null,e,n),(typeof n!="object"||Array.isArray(n))&&r(r.object,r.invalid,e,n)}function T(e,n,s){const c=JSON.stringify(s),i=n.find(t=>t.def==c);if(i)return{name:i.name,reused:!0};for(;;){const t="xso_"+e+"_"+(Math.random()+1).toString(36).substring(2);if(n.find(l=>l.name==t))continue;const d={name:t,def:c};return n.push(d),{name:d.name,reused:!1}}}const E=/[A-Z]/g;function b(e){return e.replace(E,n=>"-"+n.toLowerCase())}function S(e){return e=="&"||e==":"||e=="."||e==" "||e==">"||e=="+"||e=="~"}function h(e,n){let s=`${e} {
`;const c={selectors:[],medias:[]},i={selectors:[],medias:[]};for(const t of Object.keys(n)){const d=b(t),l=t.length>0?t.substring(0,1):"";if(S(l)){$(t,n[t]);const o=e+(l=="&"?t.substring(1):(l==":"||l=="."||l==" "?"":" ")+t);c.selectors.push({selector:o,css:h(o,n[t])})}else if(l=="@")c.medias.push({media:t,css:h(e,n[t])});else if(typeof n[t]=="object"&&n[t]!==null)for(const o of Object.keys(n[t])){const y=`  ${d}: ${n[t][o]};
`;if(o=="default"||o=="def"||o=="_"||o==""){s+=y;continue}const m=o.length>0?o.substring(0,1):"";if(S(m)){const p=i.selectors.find(g=>g.selector==o);if(p)p.css+=y;else{const g=e+(m=="&"?o.substring(1):(m==":"||m=="."||m==" "?"":" ")+o);i.selectors.push({selector:g,css:y})}}else if(m=="@"){const p=i.medias.find(g=>g.media==o);p?p.css+=y:i.medias.push({media:o,css:y})}}else s+=`  ${d}: ${n[t]};
`}s+="}";for(const t of i.selectors)s+=`
${e}${t.selector} {
${t.css}}`;for(const t of i.medias)s+=`
${t.media} {
${e} {
${t.css}}
}`;for(const t of c.selectors)s+=`
${t.css}`;for(const t of c.medias)s+=`
${t.media} {
${t.css}}`;return s}const j=[];function C(e){return T("c",j,e)}function v(e){$(`CSS class ${e}`,e);const n=C(e);if(n.reused)return n.name;const s=h("."+n.name,e),c=document.createElement("style");return c.type="text/css",c.id=n.name,c.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(c),n.name}function N(e,n){$(`Definition ${e} > ${n}`,n);const s=h(e,n),c=document.createElement("style");c.type="text/css",c.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(c)}function O(e){const n=document.createElement("style");n.type="text/css",n.innerHTML=`@import ${e};`,document.getElementsByTagName("head")[0].appendChild(n)}function w(e){$(`Font-face ${e}`,e);let n=`@font-face {
`;for(const c of Object.keys(e)){const i=b(c);n+=`  ${i}: ${e[c]};
`}n+="}";const s=document.createElement("style");s.type="text/css",s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s)}function f(){if(arguments.length==0)return null;const e=[];for(const n of arguments)e.push(v(n));if(a.vanilla())return e.join(" ");if(a.react())return{className:e.join(" ")}}return f.mode=a,f.def=(e,n)=>{N(e,n)},f.import=e=>{O(e)},f.fontFace=e=>{w(e)},f.keyframes=e=>createKeyframes(e),f});
